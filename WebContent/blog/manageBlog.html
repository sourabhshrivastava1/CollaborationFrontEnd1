<div ng-controller="blogController as ctrl">
<div ng-init="getAllBlog()">


{{blog=currentBlog;""}}

<div class="container">
<table class="table table-hover table-condensed table-bordered"  ng-hide="$routeParams.param1">
<thead>
<tr>
<th>ID</th>
<th>TITLE</th>
<th>USER ID</th>
<th class="col-lg-1">DATE TIME</th>
<th>STATUS</th>
<th>REASON</th>
<th>DESCRIPTION</th>
<th class="col-lg-2">OPERATIONS</th>
</tr>
</thead>
	
   <tr ng-repeat="blogDetails in blogs">
   
   <td>{{blogDetails.id}}</td>
   <td>{{blogDetails.title}}</td>
   <td>{{blogDetails.user_id}}</td>
   <td>{{blogDetails.date_time| date:'longDate'}}</td>
   <td>{{blogDetails.status}}</td>
   <td>{{blogDetails.reason}}</td>
   <td>{{blogDetails.description}}</td>
   <td style='white-space: nowrap'><a href="#edit-blog/{{blogDetails.id}}" ng-click="blogEdit(blogDetails.id)">EDIT</a>
   <a ng-if="blogDetails.status== 'N' || blogDetails.status== 'P'" href="#blog-manage" ng-click="blogAccept(blogDetails)">| Accept</a>
   <a ng-if="blogDetails.status== 'Y'" href="#blog-manage" ng-click="blogReject(blogDetails)">| Reject</a></td>
   	
   </tr>
	

</table>
</div>
</div>

<div class="container" ng-show="$routeParams.param1">
<h2 class="text-center">Edit Blog Here</h2>
<form class="form-horizontal" name="update_blog" ng-submit="blog_update()" >
 <div class="form-group">
<label class="control-label col-sm-2">ID:</label><div class="col-sm-10"><input required="true" type="text" name="id" id="id" value="{{currentBlog.id}}" ng-model="blog.id">
</div></div>
 
 <div class="form-group">
<label class="control-label col-sm-2">Title:</label><div class="col-sm-10"><input required="true" type="text" id="title" ng-model="blog.title">
</div></div>
<div ng-hide="currentUser.role !='admin'" class="form-group">
<label class="control-label col-sm-2">Reason</label><div class="col-sm-10"><input type="text" id="user_id" ng-model="blog.reason">
</div></div>
 <div class="form-group">
<label class="control-label col-sm-2">Description:</label><div class="col-sm-10"><textarea cols="60" rows="10" id="description" ng-model="blog.description"></textarea>
</div></div>
 <div class="form-group">
 <div class="col-sm-offset-2 col-sm-10">
<input type="submit" value="Update">
</div>
</div>
</form>
</div>
</div>